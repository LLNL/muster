<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Muster: par_partition Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacecluster.html">cluster</a>::<a class="el" href="structcluster_1_1par__partition.html">par_partition</a>
  </div>
</div>
<div class="contents">
<h1>par_partition Struct Reference</h1><!-- doxytag: class="cluster::par_partition" -->
<p><a class="el" href="structcluster_1_1par__partition.html" title="par_partition represents a partitioning of a distributed data set.">par_partition</a> represents a partitioning of a distributed data set.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="par__partition_8h_source.html">par_partition.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for par_partition:</div>
<div class="dynsection">
 <div class="center">
  <img src="structcluster_1_1par__partition.png" usemap="#par_partition_map" alt=""/>
  <map id="par_partition_map" name="par_partition_map">
<area href="classcluster_1_1par__kmedoids.html" alt="par_kmedoids" shape="rect" coords="0,56,90,80"/>
</map>
 </div>
</div>

<p><a href="structcluster_1_1par__partition-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcluster_1_1par__partition.html#a28989f2fe859071f24e3ae3616bb6b45">par_partition</a> (MPI_Comm <a class="el" href="structcluster_1_1par__partition.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a>=MPI_COMM_WORLD)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct a parallel partition for the communicator supplied Partition starts off with everyone in one cluster with medoid 0.  <a href="#a28989f2fe859071f24e3ae3616bb6b45"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcluster_1_1par__partition.html#a4a36d80cb331721334a6346ea6d25273">~par_partition</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Virtual destructor for inheritance.  <a href="#a4a36d80cb331721334a6346ea6d25273"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcluster_1_1par__partition.html#ad5b6c88a0fb602562c75447f0f8ae9f3">get_sizes</a> (std::vector&lt; size_t &gt; &amp;sizes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scalably get the sizes of all the clusters in this partition.  <a href="#ad5b6c88a0fb602562c75447f0f8ae9f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcluster_1_1par__partition.html#a02d94b5ae788fc7ac1a397875e8d4533">gather</a> (<a class="el" href="structcluster_1_1partition.html">partition</a> &amp;local, int root=0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Collective operation.  <a href="#a02d94b5ae788fc7ac1a397875e8d4533"></a><br/></td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="namespacecluster.html#abe52518c0b3d1e6319b0b994ed58a315">object_id</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcluster_1_1par__partition.html#a673ab926a3012f7aa057dd85b3bb84f2">medoid_ids</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gives the object id for the ith medoid. This object may not be local.  <a href="#a673ab926a3012f7aa057dd85b3bb84f2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="namespacecluster.html#abe52518c0b3d1e6319b0b994ed58a315">object_id</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcluster_1_1par__partition.html#afd520c040af2b60ff8950a86fcc370f9">cluster_ids</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Global cluster ids for local objects.  <a href="#afd520c040af2b60ff8950a86fcc370f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MPI_Comm&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcluster_1_1par__partition.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Communicator, the processes of which this partition divides.  <a href="#ab048c6f9fcbcfaa57ce68b00263dbebe"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="structcluster_1_1par__partition.html" title="par_partition represents a partitioning of a distributed data set.">par_partition</a> represents a partitioning of a distributed data set. </p>
<p>It is analogous to partition, but its object_ids are distributed across the ranks of the communicator it is instantiated with. Each process is assumed to "own" some set of objects in the data set this describes, and each process's <a class="el" href="structcluster_1_1par__partition.html" title="par_partition represents a partitioning of a distributed data set.">par_partition</a> object contains medoid_ids only for its own objects. Thus, the cluster_ids array will contain different object_ids on different processes within the "same" <a class="el" href="structcluster_1_1par__partition.html" title="par_partition represents a partitioning of a distributed data set.">par_partition</a> object.</p>
<p>While cluster_ids will vary, the "same" <a class="el" href="structcluster_1_1par__partition.html" title="par_partition represents a partitioning of a distributed data set.">par_partition</a> object on the same communicator will have the same medoid_ids. If this is not true, then the medoid_ids won't make any sense between processes. Partitioning algorithms that use a <a class="el" href="structcluster_1_1par__partition.html" title="par_partition represents a partitioning of a distributed data set.">par_partition</a> for output should preserve this property.</p>
<p>You can convert a <a class="el" href="structcluster_1_1par__partition.html" title="par_partition represents a partitioning of a distributed data set.">par_partition</a> to a partition on a single process using the <a class="el" href="structcluster_1_1par__partition.html#a02d94b5ae788fc7ac1a397875e8d4533" title="Collective operation.">gather()</a> method. This is a collective operation. It is not scalable, in that it will aggregate ids from <em>every</em> process in the communicator to <em>one</em> process. However, it's useful for small systems and debugging.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="structcluster_1_1partition.html" title="This represents a partitioning of a data set.">partition</a>, the non-distributed equivalent of this class. </dd></dl>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a28989f2fe859071f24e3ae3616bb6b45"></a><!-- doxytag: member="cluster::par_partition::par_partition" ref="a28989f2fe859071f24e3ae3616bb6b45" args="(MPI_Comm comm=MPI_COMM_WORLD)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcluster_1_1par__partition.html">par_partition</a> </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&nbsp;</td>
          <td class="paramname"> <em>comm</em> = <code>MPI_COMM_WORLD</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct a parallel partition for the communicator supplied Partition starts off with everyone in one cluster with medoid 0. </p>

</div>
</div>
<a class="anchor" id="a4a36d80cb331721334a6346ea6d25273"></a><!-- doxytag: member="cluster::par_partition::~par_partition" ref="a4a36d80cb331721334a6346ea6d25273" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="structcluster_1_1par__partition.html">par_partition</a> </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Virtual destructor for inheritance. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a02d94b5ae788fc7ac1a397875e8d4533"></a><!-- doxytag: member="cluster::par_partition::gather" ref="a02d94b5ae788fc7ac1a397875e8d4533" args="(partition &amp;local, int root=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gather </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcluster_1_1partition.html">partition</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>root</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Collective operation. </p>
<p>Gathers my_id from all processes into a local partition object. If size of system is large, then this method will not scale. </p>

</div>
</div>
<a class="anchor" id="ad5b6c88a0fb602562c75447f0f8ae9f3"></a><!-- doxytag: member="cluster::par_partition::get_sizes" ref="ad5b6c88a0fb602562c75447f0f8ae9f3" args="(std::vector&lt; size_t &gt; &amp;sizes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void get_sizes </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; size_t &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>sizes</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Scalably get the sizes of all the clusters in this partition. </p>
<p>POST: sizes is valid on all processes </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="afd520c040af2b60ff8950a86fcc370f9"></a><!-- doxytag: member="cluster::par_partition::cluster_ids" ref="afd520c040af2b60ff8950a86fcc370f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="namespacecluster.html#abe52518c0b3d1e6319b0b994ed58a315">object_id</a>&gt; <a class="el" href="structcluster_1_1par__partition.html#afd520c040af2b60ff8950a86fcc370f9">cluster_ids</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Global cluster ids for local objects. </p>
<p>These are indices into medoid_ids. The object id of the medoid of the ith local object is medoid_ids[cluster_ids[i]]. </p>

</div>
</div>
<a class="anchor" id="ab048c6f9fcbcfaa57ce68b00263dbebe"></a><!-- doxytag: member="cluster::par_partition::comm" ref="ab048c6f9fcbcfaa57ce68b00263dbebe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Comm <a class="el" href="structcluster_1_1par__partition.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Communicator, the processes of which this partition divides. </p>

</div>
</div>
<a class="anchor" id="a673ab926a3012f7aa057dd85b3bb84f2"></a><!-- doxytag: member="cluster::par_partition::medoid_ids" ref="a673ab926a3012f7aa057dd85b3bb84f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="namespacecluster.html#abe52518c0b3d1e6319b0b994ed58a315">object_id</a>&gt; <a class="el" href="structcluster_1_1par__partition.html#a673ab926a3012f7aa057dd85b3bb84f2">medoid_ids</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gives the object id for the ith medoid. This object may not be local. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/<a class="el" href="par__partition_8h_source.html">par_partition.h</a></li>
</ul>
</div>
<hr class="footer"/>
<small>
<b>Muster</b>.
Copyright &copy; 2010, <a href="http://www.llnl.gov">Lawrence Livermore National Laboratory</a>,  LLNL-CODE-433662.<br>
Distribution of the Muster documentation is subject to terms of the Muster <a href="http://github.com/tgamblin/muster/blob/master/LICENSE">LICENSE</a>.<br>
Generated on 28 Jun 2010 using <a href="http://www.doxygen.org/">Doxygen 1.6.3</a>
</small>

